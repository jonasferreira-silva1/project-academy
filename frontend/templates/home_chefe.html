{% extends 'base.html' %}
{% set hide_navbar = False %}

{% block title %}Home - Chefe{% endblock %}

{% block body %}
<div class="container mt-4">
    <h1 class="text-center mb-3">Bem-vindo, {{ current_user.nome_empresa }}!</h1>
    <p class="text-center mb-5">Gerencie suas seleções e encontre os melhores talentos.</p>

    <div class="row g-4 justify-content-center">
        <div class="col-md-4">
            <div class="card shadow-lg p-4 text-center h-100">
                <h3>Minhas Seleções</h3>
                <p>Gerencie suas seleções e acompanhe os candidatos.</p>
                <a href="{{ url_for('chefe.minhas_selecoes') }}" class="btn btn-primary btn-lg">
                    Ver Seleções
                </a>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow-lg p-4 text-center h-100">
                <h3>Instituições de Ensino</h3>
                <p>Consulte as instituições parceiras e explore os cursos disponíveis.</p>
                <a href="{{ url_for('chefe.instituicao_ensino') }}" class="btn btn-success btn-lg">
                    Ver Instituições
                </a>
            </div>
        </div>

        <div class="col-md-4">
            <div class="card shadow-lg p-4 text-center h-100">
                <h3>Acompanhar Alunos</h3>
                <p>Monitore o desenvolvimento dos alunos e descubra novos talentos.</p>
                <a href="{{ url_for('chefe.acompanhar') }}" class="btn btn-warning btn-lg">
                    Acompanhar Alunos
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Toasts de Notificação -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1100">
  <div id="toastNotificacao" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
    <div class="d-flex">
      <div class="toast-body" id="toastNotificacaoBody"></div>
      <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Fechar"></button>
    </div>
  </div>
</div>

<!-- Script para exibir toasts após carregar base.js -->
<script>
    // Exibe toasts para mensagens flash do Flask
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                let corToast = 'success';
                if ('{{category}}' === 'error' || '{{category}}' === 'danger') corToast = 'danger';
                else if ('{{category}}' === 'warning') corToast = 'warning';

                showToast({{ message|tojson }}, corToast, 4000);
            {% endfor %}
        {% endif %}
    {% endwith %}
</script>
{% endblock %}