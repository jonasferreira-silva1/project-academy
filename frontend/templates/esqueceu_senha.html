{% extends "base.html" %} {% set hide_navbar = True %} {% block title %}Esqueceu
a Senha - DashTalent{% endblock %} {% block extra_css %}
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/esqueceu_senha.css') }}"
/>
{% endblock %} {% block body %}
<div
  class="container-login mt-4"
  role="main"
  aria-label="Recuperação de senha do DashTalent"
>
  <section
    class="left-side"
    aria-label="Informações sobre recuperação de senha"
  >
    <div class="feature">
      <svg
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 64 64"
      >
        <circle cx="32" cy="32" r="30" fill="#ffd166" />
        <path
          fill="#6a4c93"
          d="M32 20c-6.6 0-12 5.4-12 12s5.4 12 12 12 12-5.4 12-12-5.4-12-12-12zm0 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"
        />
      </svg>
      <div class="feature-text">
        <h3>Segurança Garantida</h3>
        <p>
          Processo seguro de recuperação com código de verificação por email.
        </p>
      </div>
    </div>

    <div class="feature">
      <svg
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 64 64"
      >
        <rect width="64" height="64" fill="#ffd166" rx="32" />
        <path fill="#6a4c93" d="M20 25h24v14H20z M22 27v10h20V27z" />
      </svg>
      <div class="feature-text">
        <h3>Verificação por Email</h3>
        <p>Código enviado diretamente para seu email cadastrado.</p>
      </div>
    </div>

    <div class="feature">
      <svg
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 64 64"
      >
        <circle cx="32" cy="32" r="30" fill="#ffd166" />
        <path fill="#6a4c93" d="M32 16l-8 8h6v16h4V24h6l-8-8z" />
      </svg>
      <div class="feature-text">
        <h3>Processo Rápido</h3>
        <p>Recupere sua senha em poucos minutos de forma simples.</p>
      </div>
    </div>

    <div class="feature">
      <svg
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 64 64"
      >
        <circle cx="32" cy="32" r="30" fill="#ffd166" />
        <path fill="#6a4c93" d="M28 20h8v8h-8z M28 32h8v12h-8z" />
      </svg>
      <div class="feature-text">
        <h3>Suporte 24/7</h3>
        <p>Nossa equipe está sempre disponível para ajudar você.</p>
      </div>
    </div>
  </section>

  <section class="right-side" aria-label="Formulário de recuperação de senha">
    <a href="{{url_for('users.carousel')}}">
      <h2 class="text-center">DashTalent</h2>
    </a>
    <br />
    <div class="welcome-text" tabindex="0">Esqueceu sua senha?</div>
    <p class="subtitle">
      Digite seu email para receber um código de verificação
    </p>

    <form
      method="POST"
      action="{{ url_for('esquece.esqueceu_senha') }}"
      class="form-box"
    >
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}" />

      <div class="mb-3">
        <label for="email" class="form-label">E-mail</label>
        <input
          type="email"
          id="email"
          name="email"
          class="form-control"
          placeholder="Digite seu e-mail cadastrado"
          required
        />
      </div>

      <button type="submit" class="btn btn-primary w-100">Enviar Código</button>

      <div class="mt-3 text-center">
        <a href="{{ url_for('auth.login') }}" class="login-link">Voltar ao Login</a
        ><br /><br />
        <span class="text-muted">Ainda não tem uma conta?</span>
        <a href="{{ url_for('auth.cadastro') }}" class="login-link">Cadastre-se</a>
      </div>
    </form>
  </section>
</div>

<!-- Toast de Notificação -->
<div class="position-fixed top-0 end-0 p-3" style="z-index: 1100">
  <div
    id="toastNotificacao"
    class="toast align-items-center text-bg-success border-0"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div class="d-flex">
      <div class="toast-body" id="toastNotificacaoBody"></div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        data-bs-dismiss="toast"
        aria-label="Fechar"
      ></button>
    </div>
  </div>
</div>

<script>
  // showToast está definido em base.js

  document.addEventListener('DOMContentLoaded', function() {
      {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
              {% for category, message in messages %}
                  showToast({{ message|tojson }},
                            "{{ 'success' if category == 'success' else ('warning' if category == 'warning' else 'danger') }}");
              {% endfor %}
          {% endif %}
      {% endwith %}
  });
</script>
{% endblock %}
